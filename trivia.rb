require_relative "./how_many_players"
require_relative "./choose_difficulty"
require_relative "./get_questions"
require_relative "./display_question"
require_relative "./display_leaderboard"

require "colorize"
require "artii"

def greeting
  puts "\n"
  a = Artii::Base.new :font => 'slant'
  puts a.asciify('Welcome to').colorize(:yellow)
  a = Artii::Base.new :font => 'roman'
  puts a.asciify('Harry Potter').colorize(:cyan)
  a = Artii::Base.new :font => 'slant'
  puts a.asciify('Trivia Game !').colorize(:yellow)
  puts "\n"

end



def trivia
  greeting 

  players = how_many_players 
  difficulty = choose_difficulty
  questions = get_questions(5)

  players.each do |player|
    puts "\n"
    puts "*******************************************************************".colorize(:yellow)
    puts "Player #{player.name} it's your turn!".colorize(:cyan)
    puts "*******************************************************************".colorize(:yellow)
    puts "\n"

    questions.each do |question|
      display_question(question, difficulty, player)
    end 
  end

  
  display_leaderboard(players)

  def bye
    puts "\n"
    puts "I hope you had fun, see you soon!".colorize(:yellow)
    puts ".................................................,::::::::...................."
    puts ".......................................:::::::::::::::::::::::,..............."
    puts "...................................:::::::::::::::::::::::::::::::............"
    puts ".................................:::::::::::::::::::::::::::::::::::.........."
    puts "................................:::::::::::::::::::::::::::::::::::::........."
    puts "..............................,:::::::::::::::::::::::::::::::::::::::,......."
    puts ".............................,::::::::::::::::::::::::::::::::::::::::::......"
    puts ".............................:::::::::::.,::::::::::::::::::::::::::::::,....."
    puts "............................:::::::::::.....:::::::::::::::::::::::::::::....."
    puts "...........................,::::.:::::..I+I,.,::::::::::::::::::::::::::::...."
    puts "...........................::::..::::..??+II?.,::::,.:::::::::::::::::,:::,..."
    puts "...........................:.,:..:::,.II++?III.,::::..:::::::..:::::::.::::..."
    puts ".............................,:..:::.:II+IIIIII.:::,...::::::...::::::..:::..."
    puts ".............................::..::..IIIIIIIIII?.::..I:.,::::.I..:::::..:::,.."
    puts ".............................::..::.III::::::+II..,.IIII..:::.II.,::::..::::.."
    puts ".............................:::.:..I:.,II?..,:II..IIIII:.....::?.::::.,:.::.."
    puts ".............................:::...I.IIIIIIII=.IIIIIIIII..?III..I+.::..::....."
    puts "..............................:,.II.III~...,II,:IIIIIII.IIIIIIII.,~...::,....."
    puts "....................................III.....III.IIIIII.III....III.II?.::......"
    puts "..............................,..II.IIII...III?.,......III....III=,II.:,......"
    puts ".................................~I:.IIIIIIIII.IIIIIII.III?..?III,:~.........."
    puts "..................................II~.IIIIII=.IIIIIIII.+IIIIIIIII.II..?......."
    puts "....................................II:.....IIIIIIIIIII..IIIIII+.II..+........"
    puts "......................................=IIIIIIIIII...IIIII~.....III............"
    puts "..........................................=IIIIIIIIIIIIIIIIIIII,.............."
    puts "....................................................::::......................"
    puts ".............................................................................."
    puts ".............................................................................."
    puts "........................................................................,=...."
    puts "................................................................:======,......"
    puts "........................................................=.~..:................"
    puts "...........................................:..~=====.....II..................."
    puts "........,::::::::::.....................,:::.................................."
    puts "....,::::::::::::::::::.=::=..........::::::.................................."
    puts ".......::::::::::::::::..=:==..........:::...................................."
    puts ".....::::::::::::::::::......................................................."
    puts ".:::::::::::::::::::::,......................................................."
    puts "......:::::::::::::::........................................................."
    puts ".....,::::::::::::............................................................"
    puts "........,::::,................................................................"
  end
  bye
end

trivia
